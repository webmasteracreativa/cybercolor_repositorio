!function(n,e,o,t){n.unfold=function(t,s){var a={scope:n(e),text_closed:"Read more",text_open:"Read less",isolate:!0,duration_unfold:.5,duration_fold:.5,easing_unfold:"easeInOut",easing_fold:"easeInOut",animation_unfold:"Power4",animation_fold:"Power4",steps_unfold:10,steps_fold:10,slow_unfold:10,slow_fold:10,visible_lines:!1,visible_percentage:100},l=this;l.opts={};var d=null,f=null,u=n(t),p=u.find(".ee-unfold__content"),r=u.find(".ee-unfold__mask"),c=u.find(".ee-unfold__separator"),_=u.find(".ee-unfold__trigger .ee-button"),m=_.find(".ee-button-text"),h=_.find(".ee-unfold__icon--closed"),g=_.find(".ee-unfold__icon--open"),v=-1,w=0,b=!1,y=null,x=0,S=!1;l.init=function(){l.opts=n.extend({},a,s),l._construct()},l._construct=function(){d=l.opts.scope,f=n("body"),v=d.width(),l.setup(),l.events()},l.hexToRgba=function(n,e){var o=parseInt(n.slice(1,3),16),t=parseInt(n.slice(3,5),16),i=parseInt(n.slice(5,7),16);return e?"rgba("+o+", "+t+", "+i+", "+e+")":"rgb("+o+", "+t+", "+i+")"},l.setup=function(){l.update()},l.events=function(){d.on("resize",function(){n(this).width()===v||S||l.setup(),v=n(this).width()}),_.on("click",function(){!0===S?l.close():l.open()})},l.onScroll=function(){w=d.scrollTop(),l.requestTick()},l.requestTick=function(){b||(y=requestAnimationFrame(l.update)),b=!0},l.getLineHeight=function(n){var t=e.getComputedStyle(n),i=null,s=o.createElement(n.nodeName);return s.setAttribute("style","margin:0px;padding:0px;font-family:"+t.fontFamily+";font-size:"+t.fontSize),s.innerHTML="test",s=n.parentNode.appendChild(s),i=s.clientHeight,s.parentNode.removeChild(s),i},l.update=function(){var o=p.find("> *");if(!1!==l.opts.visible_lines){var t=0;x=0,o.each(function(o){if(t<l.opts.visible_lines){var s=l.getLineHeight(this),a=n(this).height()/s,d=e.getComputedStyle(this);if(a>1&&isFinite(a)){var f=0;for(i=1;i<=a;i++)t<l.opts.visible_lines&&(x+=s,t++,f++);f===a&&(x+=parseInt(d.marginTop)+parseInt(d.marginBottom))}else x+=n(this).outerHeight(!0),t++}})}else x=l.opts.visible_percentage*p.outerHeight(!0)/100;S=!1,r.css({height:x})},l.destroy=function(){l.clearProps(),cancelAnimationFrame(y),d.off("scroll",l.onScroll),$item.removeData("unfold")},l.open=function(){var n=new TimelineLite({onComplete:function(){S=!0,m.html(l.opts.text_open),g.length&&(h.css("display","none"),g.css("display","inline-block"))}}),e=d[0][l.opts.animation_unfold];"SlowMo"===l.opts.animation_unfold?e=e.config(l.opts.slow_unfold,.7,!1):"SteppedEase"===l.opts.animation_unfold?e=e.config(l.opts.steps_unfold):l.opts.easing_unfold&&(e=e[l.opts.easing_unfold]),n.add("open").to(r,l.opts.duration_unfold,{height:p.outerHeight(!0),ease:e,clearProps:"all"},"open").to(c,l.opts.duration_unfold/3,{autoAlpha:0,ease:Power1.easeIn},"-=0.1")},l.close=function(){var n=new TimelineLite({onComplete:function(){S=!1,m.html(l.opts.text_closed),g.length&&(h.css("display","inline-block"),g.css("display","none"))}});_animation=d[0][l.opts.animation_fold],"SlowMo"===l.opts.animation_fold?_animation=_animation.config(l.opts.slow_fold,.7,!1):"SteppedEase"===l.opts.animation_fold?_animation=_animation.config(l.opts.steps_fold):l.opts.easing_fold&&(_animation=_animation[l.opts.easing_fold]),n.add("close").to(c,l.opts.duration_fold/3,{autoAlpha:1,ease:Power1.easeOut},"close").to(r,l.opts.duration_fold,{height:x,ease:_animation},"-=0.1")},l.init()},n.fn.unfold=function(e){return this.each(function(){if(n.fn.unfold.destroy=function(){void 0!==o&&(n(this).data("unfold").destroy(),n(this).removeData("unfold"))},void 0===n(this).data("unfold")){var o=new n.unfold(this,e);n(this).data("unfold",o)}})}}(jQuery,window,document);